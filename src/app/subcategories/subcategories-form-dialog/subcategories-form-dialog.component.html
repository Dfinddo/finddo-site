<div class="container-fluid centralize">
  <mat-spinner *ngIf="loading"></mat-spinner>
  <div class="full-width" *ngIf="!loading">

    <div class="col-12">
      <h2 *ngIf="mode === 'create'">Nova Subcategoria</h2>
      <h2 *ngIf="mode === 'update'">Editar Subcategoria</h2>
      <h2 *ngIf="mode === 'delete'">Excluir Subcategoria?</h2>
    </div>

    <div *ngIf="mode === 'create' || mode === 'update'" class="col-12 px-0">
      <form #subcategoryForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="col-12">
          <mat-form-field>
            <input matInput type="text" placeholder="Nome" required [(ngModel)]="formData.name" name="name">
          </mat-form-field>
        </div>
        <div class="col-12">
          <mat-form-field>
            <mat-label>Categoria</mat-label>
            <mat-select [(value)]="formData.category_id" name="category_id">
              <mat-option *ngFor="let category of categories" [value]="category.id">
                {{category.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-12">
          <button mat-raised-button color="primary" type="submit"
            [disabled]="!subcategoryForm.form.valid">Salvar</button>
        </div>
      </form>
    </div>
    <div *ngIf="mode === 'delete'" class="col-12 mt-4">
      <h4 class="delete-question">Tem certeza que deseja excluir a subcategoria {{data.subcategory.name}}?</h4>
      <button class="mr-3 mt-4" mat-raised-button (click)="deleteSubcategory()" color="primary">Sim</button>
      <button class="mt-4" mat-raised-button (click)="cancelDelete()" color="warn">NÃ£o</button>
    </div>
  </div>
</div>
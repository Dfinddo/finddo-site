<div class="container-fluid centralize">
  <mat-spinner *ngIf="loading"></mat-spinner>
  <div class="full-width" *ngIf="!loading">

    <div class="col-12">
      <h2 *ngIf="mode === 'create'">Nova Categoria</h2>
      <h2 *ngIf="mode === 'update'">Editar Categoria</h2>
      <h2 *ngIf="mode === 'delete'">Excluir Categoria?</h2>
    </div>

    <div *ngIf="mode === 'create' || mode === 'update'" class="col-12 px-0">
      <form #categoryForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="col-12">
          <mat-form-field>
            <input matInput type="text" placeholder="Nome" required [(ngModel)]="formData.name" name="name">
          </mat-form-field>
        </div>
        <div class="col-12">
          <button mat-raised-button color="primary" type="submit" [disabled]="!categoryForm.form.valid">Salvar</button>
        </div>
      </form>
    </div>
    <div *ngIf="mode === 'delete'" class="col-12 mt-4">
        <h4 class="delete-question">Tem certeza que deseja excluir a categoria {{data.category.name}}?</h4>
        <h5>(Todas as sub-categorias relacionadas serão excluídas)</h5>
        <button class="mr-3 mt-4" mat-raised-button (click)="deleteCategory()" color="primary">Sim</button>
        <button class="mt-4" mat-raised-button (click)="cancelDelete()" color="warn">Não</button>
    </div>
  </div>
</div>